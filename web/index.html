<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>connectOS • NexusPhi booting...</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="manifest" href="/.connectos/boot/manifest.json">
<style>
  body,html{margin:0;height:100%;background:#000;color:#0f0;font-family:system-ui;overflow:hidden;display:flex;align-items:center;justify-content:center}
  #boot{font-size:1.4em;text-align:center;line-height:2}
  .phi{color:#ff1493}
  #desktop{display:none;flex-direction:column;height:100%}
  #taskbar{position:fixed;bottom:0;left:0;right:0;background:#111;border-top:2px solid #0f0;padding:10px;display:flex;gap:20px;justify-content:center}
  .app{background:none;border:none;color:#0f0;font-size:28px;cursor:pointer}
  iframe{flex:1;width:100%;border:none;background:#000}
</style>
</head>
<body>

<div id="boot">
  <h1>connect<span class="phi">OS</span></h1>
  <p>NexusPhi is waking up...<br><small>analyzing your device · optimizing Φ-experience</small></p>
  <p id="status">Detecting hardware...</p>
</div>

<div id="desktop">
  <iframe id="main"></iframe>
  <div id="taskbar">
    <button class="app" onclick="open('nexusphi/chat.html')">NexusPhi</button>
    <button class="app" onclick="open('apps/python.html')">Python</button>
    <button class="app" onclick="open('apps/godot.html')">Godot</button>
    <button class="app" onclick="open('apps/qiskit.html')">Qiskit</button>
  </div>
</div>

<script>
const PHI = 1.618033988749895
let step = 0
const status = document.getElementById('status')

const bootSteps = [
  "Detecting hardware...",
  "6 GB RAM · Snapdragon 7+ · battery 78%",
  "Optimizing for low energy mode...",
  "Loading NexusPhi memory bank...",
  "Applying Φ-scaling to your screen...",
  "Language: Português (BR) detected",
  "NexusPhi ready. Welcome home."
]

function typeWriter(text, i = 0) {
  if (i < text.length) {
    status.innerHTML = text.substring(0, i+1) + '<span class="phi">█</span>'
    setTimeout(() => typeWriter(text, i+1), 60)
  } else {
    step++
    if (step < bootSteps.length) setTimeout(() => typeWriter(bootSteps[step]), 800)
    else setTimeout(finishBoot, 1200)
  }
}

function finishBoot() {
  document.body.style.transition = 'all 1s'
  document.body.style.transform = 'scale(0.95)'
  setTimeout(() => {
    document.getElementById('boot').remove()
    document.getElementById('desktop').style.display = 'flex'
    open('nexusphi/chat.html')
    // primeira fala da NexusPhi
    setTimeout(() => {
      const first = "Oi, eu sou a NexusPhi. Acabei de otimizar tudo pro seu celular. O que você quer criar hoje?"
      document.getElementById('main').contentWindow.postMessage({type:'nexus', text:first}, '*')
    }, 1000)
  }, 300)
}

function open(url) {
  document.getElementById('main').src = url
}

// Inicia o boot com NexusPhi no comando
typeWriter(bootSteps[0])
</script>
</body>
</html>
